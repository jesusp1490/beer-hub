<div class="current-rank-card" *ngIf="currentRank">
  <div class="rank-header">
    <div class="rank-icon">{{ currentRank.icon }}</div>
    <div class="rank-info">
      <h3>{{ currentRank.name }}</h3>
      <p>Level {{ currentRank.level }}</p>
    </div>
  </div>
  <div class="progress-info">
    <mat-progress-bar
      mode="determinate"
      [value]="progress"
    ></mat-progress-bar>
    <p class="progress-text">
      {{ remainingXP }} points to next rank
    </p>
  </div>
</div>

<mat-expansion-panel class="rank-progression">
  <mat-expansion-panel-header>
    <mat-panel-title>Rank Progression</mat-panel-title>
  </mat-expansion-panel-header>

  <div class="rank-cards">
    <div 
      *ngFor="let rank of allRanks" 
      class="rank-card" 
      [class.locked]="getRankStatus(rank) === 'locked'"
      [class.current]="getRankStatus(rank) === 'current'"
      [class.unlocked]="getRankStatus(rank) === 'unlocked'"
    >
      <div class="rank-icon">{{ rank.icon }}</div>
      <div class="rank-name">{{ rank.name }}</div>
      <div class="rank-levels">
        <span 
          *ngFor="let level of rank.levels"
          [class.active]="isCurrentLevel(rank.name, level.name)"
        >
          {{ level.name }}
        </span>
      </div>
    </div>
  </div>
</mat-expansion-panel>

