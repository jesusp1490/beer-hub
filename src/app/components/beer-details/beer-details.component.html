<div class="beer-details-container">
  <button class="back-button" (click)="goBack()">
    <i class="fa-solid fa-arrow-left"></i>
  </button>
  <!-- Parte derecha -->
  <div class="right-section">
    <div class="upper-grid">
      <!-- Cuadro 1: Logo de la marca -->
      <div class="upper-grid-item logo">
        <img *ngIf="brandLogoUrl" [src]="brandLogoUrl" alt="{{ brandName }} logo" />
      </div>

      <!-- Cuadro 2: Tipo de cerveza -->
      <div class="upper-grid-item beer-type">
        <h2>Beer Type:</h2>
        <h4>{{ beer?.beerType }}</h4>
      </div>

      <!-- Cuadro 3: País + bandera -->
      <div class="upper-grid-item country">
        <h2>{{ countryName }} <img *ngIf="countryFlagUrl" [src]="countryFlagUrl" alt="{{ countryName }} flag" /></h2>
      </div>

      <!-- Cuadro 4: Territorio -->
      <div class="upper-grid-item territory">
        <img *ngIf="countryMapUrl" [src]="countryMapUrl" alt="{{ countryName }} map" />
      </div>
    </div>

    <!-- Cuadro 5: Descripción de la cerveza -->
    <div class="description">
      <h2>Meet the Beer</h2>
      <p>{{ beer?.description }}</p>
    </div>
  </div>

  <!-- Parte izquierda -->
  <div class="left-section">
    <!-- Cuadro 1: Imagen de la cerveza -->
    <div class="beer-image">
      <img *ngIf="beer?.beerImageUrl" [src]="beer?.beerImageUrl" alt="{{ beer?.name }} image" />
    </div>

    <!-- Cuadro 2: Ingredientes -->
    <div class="ingredients-container">
      <div *ngFor="let column of splitIngredients(beer?.ingredients ?? []); let i = index" class="ingredient-column">
        <div class="ingredient-item" *ngFor="let ingredient of column">
          <div class="ingredient-content">
            <div class="ingredient-icon">
              <img [src]="ingredient.ingImageUrl" alt="{{ ingredient.name }} icon" />
            </div>
            <p class="ingredient-name">{{ ingredient.name }}</p>
          </div>
        </div>
        <!-- Place ABV under the first column -->
        <div *ngIf="i === 0" class="abv">
          <h2>ABV</h2>
          <span>{{ beer?.ABV }}</span>
        </div>
      </div>
    </div>
  </div>

  <div class="rating-section">
      <h2>Average Rating: {{ beer?.averageRating }} </h2>
      <div *ngIf="userId" class="user-rating">
        <h3>Rate this beer:</h3>
        <div class="beer-rate">
          <img
          *ngFor="let i of [1, 2, 3, 4, 5]"
          [src]="i <= (userRating || 0) ? 'https://firebasestorage.googleapis.com/v0/b/beer-hub.appspot.com/o/images%2Fmisc%2Ffull-beer.webp?alt=media&token=a0cbaf82-83ef-41e7-abc5-36a140d10119' : 'https://firebasestorage.googleapis.com/v0/b/beer-hub.appspot.com/o/images%2Fmisc%2Fempty-beer.webp?alt=media&token=65bd916f-f7dc-4b23-9efb-45bbdb627ce9'"
          (click)="rateBeer(i)"
          alt="beer icon"
          />
        </div>
      </div>
    </div>
  </div>