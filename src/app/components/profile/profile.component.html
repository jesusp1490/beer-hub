<div class="profile">
  <h2>Hello!, Beer Master: {{ userProfile.username }}</h2>
  
  <!-- Mostrar usuario -->
  <ng-container *ngIf="user$ | async as user">
    <img [src]="user.photoURL || 'assets/user-baseImg.png'" class="profile-avatar">
    <p><strong>Name:</strong> {{ userProfile.firstName }}</p>
    <p><strong>Last Name:</strong> {{ userProfile.lastName }}</p>
    <p><strong>Email:</strong> {{ user.email }}</p>
    <p><strong>Username:</strong> {{ userProfile.username }}</p>
    <p><strong>Country:</strong> {{ userProfile.country || 'Not specified' }}</p>
    <p><strong>Date of Birth:</strong> {{ userProfile.dateOfBirth || 'Not specified' }}</p>

    <!-- Actualización de foto de perfil -->
    <input type="file" (change)="onFileSelected($event)">

    <!-- Cambiar contraseña -->
    <form (ngSubmit)="updatePassword()">
      <label for="newPassword">New Password:</label>
      <input type="password" id="newPassword" [(ngModel)]="newPassword" name="newPassword" required>

      <label for="confirmPassword">Confirm New Password:</label>
      <input type="password" id="confirmPassword" [(ngModel)]="confirmPassword" name="confirmPassword" required>

      <button type="submit">Update Password</button>
    </form>

    <!-- Botón para solicitar nueva cerveza -->
    <button (click)="openNewBeerModal()">Request a New Beer</button>

    <!-- Logout -->
    <button (click)="signOut()">Logout</button>
  </ng-container>

  <!-- Modal para solicitar una nueva cerveza -->
  <div *ngIf="showNewBeerModal" class="modal">
    <div class="modal-content">
      <h3>Request a New Beer</h3>
      <form (ngSubmit)="submitNewBeerRequest()">
        <label for="beerName">Beer Name:</label>
        <input type="text" id="beerName" [(ngModel)]="newBeer.name" name="beerName" required>

        <label for="beerDescription">Description:</label>
        <textarea id="beerDescription" [(ngModel)]="newBeer.description" name="beerDescription" required></textarea>

        <button type="submit">Submit Request</button>
        <button type="button" (click)="closeNewBeerModal()">Cancel</button>
      </form>
    </div>
  </div>
</div>
