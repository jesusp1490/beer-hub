<div class="homepage-container">
  <section class="hero">
    <h1>Discover Your Perfect Beer</h1>
    <p>Explore our vast collection of craft beers from around the world</p>
  </section>

  <aside class="filter-sidebar">
    <app-filter-search (searchResults)="onSearchResults($event)"></app-filter-search>
  </aside>

  <main class="main-content" *ngIf="!searchActive">
    <section class="section best-rated">
      <h2>Best Rated Beers</h2>
      <div class="beer-grid">
        <div *ngFor="let beer of bestRatedBeers" class="beer-card" (click)="viewBeerDetails(beer)">
          <img [src]="beer.beerImageUrl" [alt]="beer.name" loading="lazy">
          <div class="beer-info">
            <h3>{{ beer.name }}</h3>
            <p class="rating">Rating: {{ beer.averageRating | number:'1.1-1' }}</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section user-favorites">
      <h2>User Favorites</h2>
      <div class="beer-grid">
        <div *ngFor="let beer of userFavoriteBeers" class="beer-card" (click)="viewBeerDetails(beer)">
          <img [src]="beer.beerImageUrl" [alt]="beer.name" loading="lazy">
          <div class="beer-info">
            <h3>{{ beer.name }}</h3>
            <p>{{ beer.beerType }}</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section popular-brands">
      <h2>Popular Brands</h2>
      <div class="brand-grid">
        <div *ngFor="let brand of popularBrands" class="brand-card" (click)="viewBrandBeers(brand)">
          <img [src]="brand.logoUrl" [alt]="brand.name" loading="lazy">
          <div class="brand-info">
            <h3>{{ brand.name }}</h3>
            <p>{{ brand.beersCount }} beers</p>
          </div>
        </div>
      </div>
    </section>

    <section class="section latest-beers">
      <h2>Latest Added Beers</h2>
      <div class="beer-grid">
        <div *ngFor="let beer of latestBeers" class="beer-card" (click)="viewBeerDetails(beer)">
          <img [src]="beer.beerImageUrl" [alt]="beer.name" loading="lazy">
          <div class="beer-info">
            <h3>{{ beer.name }}</h3>
            <p>Added: {{ beer.addedDate | date:'mediumDate' }}</p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <div class="search-results" *ngIf="searchActive">
    <h2>Search Results</h2>
    <div class="beer-grid" *ngIf="filteredBeers.length > 0">
      <div *ngFor="let beer of filteredBeers" class="beer-card" (click)="viewBeerDetails(beer)">
        <img [src]="beer.beerImageUrl" [alt]="beer.name" loading="lazy">
        <div class="beer-info">
          <h3>{{ beer.name }}</h3>
          <p>{{ beer.ABV }}% ABV | {{ beer.beerType }}</p>
          <p class="rating">Rating: {{ beer.averageRating | number:'1.1-1' }}</p>
          <p class="ingredients">{{ getIngredients(beer) }}</p>
        </div>
      </div>
    </div>
    <div *ngIf="filteredBeers.length === 0" class="no-results">
      <p>No results found.</p>
    </div>
  </div>
</div>