<div class="homepage-container">
  <aside class="filter-sidebar">
    <app-filter-search (searchResults)="onSearchResults($event)"></app-filter-search>
  </aside>

  <!-- Main Content Area, shown when there are no search results -->
  <div class="main-content" *ngIf="!searchActive">
    <!-- Best Rated Beers -->
    <section class="section best-rated">
      <h2>Best Rated Beers</h2>
      <div *ngIf="bestRatedBeers.length > 0" class="section-content">
        <div *ngFor="let beer of bestRatedBeers" class="section-item" (click)="viewBeerDetails(beer.id)">
          <img [src]="beer.beerImageUrl" alt="{{ beer.name }}">
          <p>{{ beer.name }} <br> | Rating: {{ beer.averageRating }}</p>
        </div>
      </div>
      <div *ngIf="bestRatedBeers.length === 0">
        <p>No best rated beers found.</p>
      </div>
    </section>

    <!-- User Favorite Beers -->
    <section class="section user-favorites">
      <h2>User Favorites</h2>
      <div *ngIf="userFavoriteBeers.length > 0" class="section-content">
        <div *ngFor="let beer of userFavoriteBeers" class="section-item" (click)="viewBeerDetails(beer.id)">
          <img [src]="beer.beerImageUrl" alt="{{ beer.name }}">
          <p>{{ beer.name }} - {{ beer.beerType }}</p>
        </div>
      </div>
      <div *ngIf="userFavoriteBeers.length === 0">
        <p>No user favorites found.</p>
      </div>
    </section>

    <!-- Popular Brands -->
    <section class="section popular-brands">
      <h2>Popular Brands</h2>
      <div *ngIf="popularBrands.length > 0" class="section-content">
        <div *ngFor="let brand of popularBrands" class="brand-card" (click)="viewBrandBeers(brand.id)">
          <img [src]="brand.logoUrl" alt="{{ brand.name }}">
          <p>{{ brand.name }} ({{ brand.beersCount }} beers)</p>
        </div>
      </div>
      <div *ngIf="popularBrands.length === 0">
        <p>No popular brands found.</p>
      </div>
    </section>

    <!-- Latest Added Beers -->
    <section class="section latest-beers">
      <h2>Latest Added Beers</h2>
      <div *ngIf="latestBeers.length > 0" class="section-content">
        <div *ngFor="let beer of latestBeers" class="section-item" (click)="viewBeerDetails(beer.id)">
          <img [src]="beer.beerImageUrl" alt="{{ beer.name }}">
          <p>{{ beer.name }}</p>
        </div>
      </div>
      <div *ngIf="latestBeers.length === 0">
        <p>No latest beers found.</p>
      </div>
    </section>
  </div>

  <!-- Search Results Area, shown when there are search results -->
  <div class="search-results" *ngIf="searchActive">
    <h2>Search Results</h2>
    <div *ngIf="filteredBeers.length > 0">
      <div class="beers-grid">
        <div *ngFor="let beer of filteredBeers" class="beer-card" (click)="viewBeerDetails(beer.id)">
          <img [src]="beer.beerImageUrl" alt="{{ beer.name }}">
          <p>{{ beer.name }} ({{ beer.ABV }}% ABV) - {{ beer.beerType }} | Rating: {{ beer.averageRating }}</p>
          <div class="ingredients">
            <span *ngFor="let ingredient of beer.ingredients; let i = index">
              {{ ingredient.name }}<span *ngIf="i < beer.ingredients.length - 1">, </span>
            </span>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="filteredBeers.length === 0" class="no-results">
      <p>No results found.</p>
    </div>
  </div>
</div>
